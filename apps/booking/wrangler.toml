# Cloudflare Workers Configuration - appointmentbooking-coza
# Optimized for next-on-pages deployment (2025 Best Practice)
# https://developers.cloudflare.com/pages/framework-guides/deploy-a-nextjs-site/

name = "appointmentbooking-coza"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# next-on-pages build output for Pages deployment
pages_build_output_dir = ".vercel/output/static"

# Environment variables
[vars]
NEXT_PUBLIC_APP_URL = "https://appointmentbooking.co.za"
NEXTAUTH_URL = "https://appointmentbooking.co.za"
NODE_ENV = "production"
WORKER_URL = "https://appointmentbooking-coza.houseofgr8ness.workers.dev"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "appointmentbooking-db"
database_id = "59c06cd2-8bd2-45cf-ab62-84d7a4919e11"

# Observability
[observability]
enabled = true
